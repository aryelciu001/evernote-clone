(this["webpackJsonpevernote-clone"]=this["webpackJsonpevernote-clone"]||[]).push([[0],{100:function(e,t,n){},220:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(16),r=n.n(i),c=(n(98),n(27)),l=n.n(c),s=n(48),d=n(5),u=n(17),p=n(18),b=n(20),h=n(19),f=(n(100),n(84)),m=n.n(f);function v(e,t,n){var a,o;return function(){function i(){a=null,n||(o=e.apply(r,c))}var r=this,c=arguments;return clearTimeout(a),a=setTimeout(i,t),n&&!a&&(o=e.apply(r,c)),o}}var x=n(7),N=function(e){return{root:{backgroundColor:e.palette.background.paper,height:"calc(100% - 35px)",position:"absolute",left:"0",width:"300px",boxShadow:"0px 0px 2px black"},titleInput:{boxSizing:"border-box",border:"none",padding:"10px",fontSize:"24px",width:"calc(100% - 300px)",backgroundColor:"#29487d",color:"white"},editIcon:{position:"absolute",left:"310px",top:"12px",color:"white",width:"10",height:"10"},editorContainer:{height:"100%",boxSizing:"border-box"}}},g=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={prevText:"",prevTitle:"",prevId:"",text:"",title:"",id:""},e.updateBody=function(){var t=Object(s.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState(Object(d.a)(Object(d.a)({},e.state),{},{text:n}));case 2:e.update();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateTitle=function(t){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{title:t.target.value}),(function(){e.update()}))},e.update=v((function(){e.props.updateNote(e.state.id,{title:e.state.title,body:e.state.text})}),1500),e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){if(this.props.note){var e=this.props.note,t=e.title,n=e.body,a=e.id;this.setState(Object(d.a)(Object(d.a)({},this.state),{},{text:n,title:t,id:a}))}}},{key:"componentDidUpdate",value:function(){var e=this;if(this.props.note.id!==this.state.id){var t=this.props.note,n=t.title,a=t.body,o=t.id,i=this.state.title,r=this.state.text,c=this.state.id;this.setState(Object(d.a)(Object(d.a)({},this.state),{},{prevText:r,prevTitle:i,prevId:c,text:a,title:n,id:o}),(function(){e.props.updateNote(e.state.prevId,{title:e.state.prevTitle,body:e.state.prevText})}))}}},{key:"render",value:function(){var e=this.props,t=e.classes;e.note;return o.a.createElement("div",{className:t.editorContainer},o.a.createElement("div",null,o.a.createElement("input",{type:"text",value:this.state.title,onChange:this.updateTitle,className:t.titleInput})),o.a.createElement(m.a,{value:this.state.text,onChange:this.updateBody}))}}]),n}(a.Component),j=Object(x.a)(N)(g),w=n(49),O=function(e){return{root:{backgroundColor:e.palette.background.paper,height:"calc(100% - 35px)",position:"absolute",left:"0",width:"300px",boxShadow:"0px 0px 2px black"},newChatBtn:{borderRadius:"0px"},unreadMessage:{color:"red",position:"absolute",top:"0",right:"5px"},newNoteBtn:{width:"100%",height:"35px",borderBottom:"1px solid black",borderRadius:"0px",backgroundColor:"#29487d",color:"white","&:hover":{backgroundColor:"#88a2ce"}},sidebarContainer:{marginTop:"0px",width:"300px",height:"100%",boxSizing:"border-box",float:"left",overflowY:"scroll",overflowX:"hidden"},newNoteInput:{width:"100%",margin:"0px",height:"35px",outline:"none",border:"none",paddingLeft:"5px","&:focus":{outline:"2px solid rgba(81, 203, 238, 1)"}},newNoteSubmitBtn:{width:"100%",backgroundColor:"#28787c",borderRadius:"0px",color:"white"}}},y=n(241),k=n(240),I=n(242),C=function(e){return{listItem:{cursor:"pointer"},textSection:{maxWidth:"85%"},deleteIcon:{position:"absolute",right:"5px",top:"calc(50% - 15px)","&:hover":{color:"red"}}}},E=n(243),S=n(244),T=n(89),B=n.n(T),A=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).selectNote=function(t,n){e.props.selectNote(t,n)},e.deleteNote=function(t,n,a){t.stopPropagation(),window.confirm('Delete "'.concat(n.title,'"?'))&&e.props.deleteNote(n,a)},e}return Object(p.a)(n,[{key:"render",value:function(){var e,t=this,n=this.props,a=n.note,i=n.selectedNoteIndex,r=n.index,c=n.classes;return o.a.createElement("div",{key:r,onClick:function(){t.selectNote(a,r)}},o.a.createElement(E.a,{className:c.listItem,selected:i===r,alignItems:"flex-start"},o.a.createElement("div",{className:c.textSection},o.a.createElement(S.a,{primary:a.title,secondary:(e=a.body.substring(0,30)+"...",e.replace(/<[^>]*>?/gm,""))}),o.a.createElement(B.a,{onClick:function(e){return t.deleteNote(e,a,r)},className:c.deleteIcon}))))}}]),n}(a.Component),z=Object(x.a)(C)(A),D=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={addingNote:!1,title:""},e.newNoteBtnClick=function(){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{addingNote:!e.state.addingNote,title:""}))},e.updateTitle=function(t){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{title:t.target.value}))},e.newNote=function(){e.props.newNote(e.state.title),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{title:""}))},e.selectNote=function(){},e.deleteNote=function(t,n){e.props.deleteNote(t,n)},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.notes,a=t.classes,i=t.selectedNoteIndex;return o.a.createElement("div",{className:a.sidebarContainer},o.a.createElement(k.a,{onClick:this.newNoteBtnClick,className:a.newNoteBtn},this.state.addingNote?"Cancel":"New Note"),this.state.addingNote?o.a.createElement("div",null,o.a.createElement("input",Object(w.a)({value:this.state.updateTitle,type:"text",className:a.newNoteInput,placeholder:"Enter Note Title",onChange:this.updateTitle},"value",this.state.title)),o.a.createElement(k.a,{onClick:this.newNote,className:a.newNoteSubmitBtn,disabled:!this.state.title},"Submit Note")):null,o.a.createElement(y.a,null,n?n.map((function(t,n){return o.a.createElement("div",{key:n},o.a.createElement(z,{key:n,index:n,note:t,selectedNoteIndex:i,selectNote:e.props.selectNote,deleteNote:function(t,n){return e.deleteNote(t,n)}}),o.a.createElement(I.a,null))})):null))}}]),n}(a.Component),M=Object(x.a)(O)(D),R=n(81),F=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={selectedNoteIndex:null,selectedNote:null,notes:null},e.deleteNote=function(t,n){n===e.state.selectedNoteIndex&&e.setState(Object(d.a)(Object(d.a)({},e.state),{},{selectedNote:null,selectedNoteIndex:null})),R.firestore().collection("notes").doc(t.id).delete()},e.newNote=function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={title:t,body:""},e.next=3,R.firestore().collection("notes").add(Object(d.a)(Object(d.a)({},n),{},{timestamp:R.firestore.FieldValue.serverTimestamp()}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.selectNote=function(t,n){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{selectedNote:t,selectedNoteIndex:n}))},e.updateNote=function(e,t){R.firestore().collection("notes").doc(e).update({title:t.title,body:t.body,timestamp:R.firestore.FieldValue.serverTimestamp()})},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.selectedNote,a=t.selectedNoteIndex,i=t.notes;return o.a.createElement("div",{className:"app-container"},o.a.createElement(M,{notes:i,selectedNoteIndex:a,selectNote:function(t,n){return e.selectNote(t,n)},deleteNote:function(t,n){return e.deleteNote(t,n)},newNote:this.newNote}),this.state.selectedNote?o.a.createElement(j,{note:n,updateNote:this.updateNote}):null)}},{key:"componentDidMount",value:function(){var e=this;R.firestore().collection("notes").onSnapshot((function(t){var n=t.docs.map((function(e){var t=e.data();return t.id=e.id,t}));e.setState(Object(d.a)(Object(d.a)({},e.state),{},{notes:n}))}))}}]),n}(a.Component),H=n(81);n(219),H.initializeApp({apiKey:"AIzaSyAAxZaHlIia7KRBhMom9Ddfx3GYzWuHgiM",authDomain:"evernoteclone-1b3dd.firebaseapp.com",databaseURL:"https://evernoteclone-1b3dd.firebaseio.com",projectId:"evernoteclone-1b3dd",storageBucket:"evernoteclone-1b3dd.appspot.com",messagingSenderId:"651281430873",appId:"1:651281430873:web:13beeaf0de67ab9109b448"}),r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(F,null)),document.getElementById("evernote-container"))},93:function(e,t,n){e.exports=n(220)},98:function(e,t,n){}},[[93,1,2]]]);
//# sourceMappingURL=main.43064e67.chunk.js.map